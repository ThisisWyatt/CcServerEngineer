---
title: 多线程生成随机数并计算重复个数
categories: Code
tags: Multi-Thread
declare: true
wordCount: true
abbrlink: cbb36818
date: 2021-08-12 14:23:24
---

使用InStream的多线程方法向synchronizedList中插入若干个随机数，并计算其中重复的个数。
<!-- more -->

```java
List<Integer> numberList = Collections.synchronizedList(new ArrayList<>());
//
IntStream.range(0, 100).parallel().forEach(i -> {
    numberList.add(new Random().nextInt(100));
});
List<Integer> filterNumberList = numberList.stream().distinct().collect(Collectors.toList());

System.out.println("numberList.size = " + numberList.size());
System.out.println("filterNumberList.size = " + filterNumberList.size());
System.out.println("重复个数：" + (numberList.size() - filterNumberList.size()));
```